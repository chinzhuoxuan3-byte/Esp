local P=game:GetService("Players")local R=game:GetService("RunService")local U=game:GetService("UserInputService")local TW=game:GetService("TweenService")local p=P.LocalPlayer;local g=p:WaitForChild("PlayerGui")local c=workspace.CurrentCamera;local s=Instance.new("ScreenGui")s.Name="AdvancedPlayerESP_UI"s.ResetOnSpawn=false;s.Parent=g;local toggleBtn=Instance.new("TextButton")toggleBtn.Name="ToggleButton"toggleBtn.Size=UDim2.new(0,130,0,38)toggleBtn.Position=UDim2.new(0,10,0.5,-19)toggleBtn.BackgroundColor3=Color3.fromRGB(45,45,60)toggleBtn.TextColor3=Color3.new(1,1,1)toggleBtn.Font=Enum.Font.SourceSansBold;toggleBtn.TextSize=16;toggleBtn.Text="ğŸ¯ ESPèœå•"toggleBtn.BorderSizePixel=0;toggleBtn.Active=true;toggleBtn.Draggable=true;toggleBtn.Parent=s;local toggleCorner=Instance.new("UICorner")toggleCorner.CornerRadius=UDim.new(0,8)toggleCorner.Parent=toggleBtn;local toggleGrad=Instance.new("UIGradient")toggleGrad.Color=ColorSequence.new{ColorSequenceKeypoint.new(0,Color3.fromRGB(55,55,75)),ColorSequenceKeypoint.new(1,Color3.fromRGB(35,35,50))}toggleGrad.Rotation=90;toggleGrad.Parent=toggleBtn;local fpsLabel=Instance.new("TextLabel")fpsLabel.Size=UDim2.new(0,80,0,28)fpsLabel.Position=UDim2.new(0,10,0.5,27)fpsLabel.BackgroundColor3=Color3.fromRGB(30,30,40)fpsLabel.BorderSizePixel=0;fpsLabel.TextColor3=Color3.fromRGB(100,255,100)fpsLabel.Font=Enum.Font.SourceSansBold;fpsLabel.TextSize=14;fpsLabel.Text="FPS: 60"fpsLabel.Parent=s;local fpsCorner=Instance.new("UICorner")fpsCorner.CornerRadius=UDim.new(0,6)fpsCorner.Parent=fpsLabel;local m=Instance.new("Frame")m.Name="MainPanel"m.Size=UDim2.new(0,280,0,420)m.Position=UDim2.new(0.5,-140,0.5,-210)m.BackgroundColor3=Color3.fromRGB(25,25,35)m.BorderSizePixel=0;m.Active=true;m.Draggable=true;m.Visible=false;m.BackgroundTransparency=1;m.Parent=s;local mCorner=Instance.new("UICorner")mCorner.CornerRadius=UDim.new(0,12)mCorner.Parent=m;local mGrad=Instance.new("UIGradient")mGrad.Color=ColorSequence.new{ColorSequenceKeypoint.new(0,Color3.fromRGB(35,35,50)),ColorSequenceKeypoint.new(1,Color3.fromRGB(20,20,30))}mGrad.Rotation=135;mGrad.Parent=m;local t=Instance.new("Frame")t.Size=UDim2.new(1,0,0,38)t.BackgroundColor3=Color3.fromRGB(40,40,55)t.BorderSizePixel=0;t.Parent=m;local tCorner=Instance.new("UICorner")tCorner.CornerRadius=UDim.new(0,12)tCorner.Parent=t;local tBot=Instance.new("Frame")tBot.Size=UDim2.new(1,0,0,12)tBot.Position=UDim2.new(0,0,1,-12)tBot.BackgroundColor3=Color3.fromRGB(40,40,55)tBot.BorderSizePixel=0;tBot.Parent=t;local l=Instance.new("TextLabel")l.Size=UDim2.new(1,-16,1,0)l.Position=UDim2.new(0,12,0,0)l.BackgroundTransparency=1;l.Text="ğŸ¯ äººç‰©ESP [X]"l.TextColor3=Color3.new(1,1,1)l.Font=Enum.Font.SourceSansBold;l.TextSize=18;l.TextXAlignment=Enum.TextXAlignment.Left;l.Parent=t;local scrollFrame=Instance.new("ScrollingFrame")scrollFrame.Size=UDim2.new(1,-10,1,-48)scrollFrame.Position=UDim2.new(0,5,0,43)scrollFrame.BackgroundTransparency=1;scrollFrame.BorderSizePixel=0;scrollFrame.ScrollBarThickness=4;scrollFrame.CanvasSize=UDim2.new(0,0,0,800)scrollFrame.Parent=m;local function C(T,P,pa)local b=Instance.new("TextButton")b.Size=UDim2.new(1,-10,0,32)b.Position=P;b.BackgroundColor3=Color3.fromRGB(50,50,65)b.TextColor3=Color3.new(1,1,1)b.Font=Enum.Font.SourceSans;b.TextSize=14;b.Text=T;b.BorderSizePixel=0;b.AutoButtonColor=false;b.Parent=pa;local bc=Instance.new("UICorner")bc.CornerRadius=UDim.new(0,6)bc.Parent=b;local bg=Instance.new("UIGradient")bg.Color=ColorSequence.new{ColorSequenceKeypoint.new(0,Color3.fromRGB(60,60,75)),ColorSequenceKeypoint.new(1,Color3.fromRGB(45,45,60))}bg.Rotation=90;bg.Parent=b;b.MouseEnter:Connect(function()TW:Create(b,TweenInfo.new(0.2),{BackgroundColor3=Color3.fromRGB(70,70,90)}):Play()end)b.MouseLeave:Connect(function()TW:Create(b,TweenInfo.new(0.2),{BackgroundColor3=Color3.fromRGB(50,50,65)}):Play()end)return b end;local function CS(name,pos,parent,min,max,def)local frame=Instance.new("Frame")frame.Size=UDim2.new(1,-10,0,50)frame.Position=pos;frame.BackgroundTransparency=1;frame.Parent=parent;local label=Instance.new("TextLabel")label.Size=UDim2.new(1,0,0,18)label.BackgroundTransparency=1;label.Text=name..": "..def;label.TextColor3=Color3.new(1,1,1)label.Font=Enum.Font.SourceSans;label.TextSize=14;label.TextXAlignment=Enum.TextXAlignment.Left;label.Parent=frame;local slider=Instance.new("Frame")slider.Size=UDim2.new(1,0,0,20)slider.Position=UDim2.new(0,0,0,25)slider.BackgroundColor3=Color3.fromRGB(35,35,45)slider.BorderSizePixel=0;slider.Parent=frame;local sCorner=Instance.new("UICorner")sCorner.CornerRadius=UDim.new(0,10)sCorner.Parent=slider;local fill=Instance.new("Frame")fill.Size=UDim2.new((def-min)/(max-min),0,1,0)fill.BackgroundColor3=Color3.fromRGB(100,200,255)fill.BorderSizePixel=0;fill.Parent=slider;local fCorner=Instance.new("UICorner")fCorner.CornerRadius=UDim.new(0,10)fCorner.Parent=fill;local fGrad=Instance.new("UIGradient")fGrad.Color=ColorSequence.new{ColorSequenceKeypoint.new(0,Color3.fromRGB(100,200,255)),ColorSequenceKeypoint.new(1,Color3.fromRGB(50,150,255))}fGrad.Parent=fill;local dragging=false;local val=def;local function update(input)local pos=(input.Position.X-slider.AbsolutePosition.X)/slider.AbsoluteSize.X;pos=math.clamp(pos,0,1)val=math.floor(min+(max-min)*pos)fill.Size=UDim2.new(pos,0,1,0)label.Text=name..": "..val;return val end;slider.InputBegan:Connect(function(input)if input.UserInputType==Enum.UserInputType.MouseButton1 then dragging=true;update(input)end end)slider.InputEnded:Connect(function(input)if input.UserInputType==Enum.UserInputType.MouseButton1 then dragging=false end end)U.InputChanged:Connect(function(input)if dragging and input.UserInputType==Enum.UserInputType.MouseMovement then update(input)end end)return{getValue=function()return val end,setValue=function(v)val=math.clamp(v,min,max)fill.Size=UDim2.new((val-min)/(max-min),0,1,0)label.Text=name..": "..val end}end;local function CCat(name,pos,parent)local cat=Instance.new("Frame")cat.Size=UDim2.new(1,-10,0,32)cat.Position=pos;cat.BackgroundColor3=Color3.fromRGB(60,60,80)cat.BorderSizePixel=0;cat.Parent=parent;local cCorner=Instance.new("UICorner")cCorner.CornerRadius=UDim.new(0,6)cCorner.Parent=cat;local cGrad=Instance.new("UIGradient")cGrad.Color=ColorSequence.new{ColorSequenceKeypoint.new(0,Color3.fromRGB(70,70,95)),ColorSequenceKeypoint.new(1,Color3.fromRGB(50,50,70))}cGrad.Rotation=90;cGrad.Parent=cat;local btn=Instance.new("TextButton")btn.Size=UDim2.new(1,0,1,0)btn.BackgroundTransparency=1;btn.Text="â–¼ "..name;btn.TextColor3=Color3.new(1,1,1)btn.Font=Enum.Font.SourceSansBold;btn.TextSize=15;btn.TextXAlignment=Enum.TextXAlignment.Left;btn.Parent=cat;local pad=Instance.new("UIPadding")pad.PaddingLeft=UDim.new(0,10)pad.Parent=btn;local expanded=true;return cat,btn,function()return expanded end,function(e)expanded=e;btn.Text=(expanded and"â–¼ "or"â–¶ ")..name end end;local yPos=5;local cat1,cat1Btn,cat1Exp,cat1Set=CCat("æ˜¾ç¤ºé€‰é¡¹",UDim2.new(0,5,0,yPos),scrollFrame)yPos=yPos+37;local mb=C("ESPé«˜äº®ï¼šå…³",UDim2.new(0,5,0,yPos),scrollFrame)yPos=yPos+37;local nb=C("åå­—ï¼šå…³",UDim2.new(0,5,0,yPos),scrollFrame)yPos=yPos+37;local hb=C("è¡€é‡ï¼šå…³",UDim2.new(0,5,0,yPos),scrollFrame)yPos=yPos+37;local db=C("è·ç¦»ï¼šå…³",UDim2.new(0,5,0,yPos),scrollFrame)yPos=yPos+37;local lb=C("çº¿æ¡ï¼šå…³",UDim2.new(0,5,0,yPos),scrollFrame)yPos=yPos+37;local bb=C("æ–¹æ¡†ï¼šå…³",UDim2.new(0,5,0,yPos),scrollFrame)yPos=yPos+37;local skb=C("éª¨éª¼ï¼šå…³",UDim2.new(0,5,0,yPos),scrollFrame)yPos=yPos+37;local tb=C("é˜Ÿä¼è‰²ï¼šå…³",UDim2.new(0,5,0,yPos),scrollFrame)yPos=yPos+42;local cat2,cat2Btn,cat2Exp,cat2Set=CCat("è­¦æŠ¥è®¾ç½®",UDim2.new(0,5,0,yPos),scrollFrame)yPos=yPos+37;local ab=C("è­¦æŠ¥ï¼šå…³",UDim2.new(0,5,0,yPos),scrollFrame)yPos=yPos+37;local alertSlider=CS("è­¦æŠ¥è·ç¦»",UDim2.new(0,5,0,yPos),scrollFrame,10,100,30)yPos=yPos+55;local cat3,cat3Btn,cat3Exp,cat3Set=CCat("é«˜çº§è®¾ç½®",UDim2.new(0,5,0,yPos),scrollFrame)yPos=yPos+37;local distSlider=CS("æœ€å¤§è·ç¦»",UDim2.new(0,5,0,yPos),scrollFrame,50,500,200)yPos=yPos+55;local transSlider=CS("é€æ˜åº¦",UDim2.new(0,5,0,yPos),scrollFrame,0,90,50)yPos=yPos+55;local specBtn=C("æ—è§‚ç©å®¶",UDim2.new(0,5,0,yPos),scrollFrame)yPos=yPos+37;scrollFrame.CanvasSize=UDim2.new(0,0,0,yPos+10)local specFrame=Instance.new("Frame")specFrame.Size=UDim2.new(0,200,0,300)specFrame.Position=UDim2.new(1,10,0,0)specFrame.BackgroundColor3=Color3.fromRGB(25,25,35)specFrame.BorderSizePixel=0;specFrame.Visible=false;specFrame.Parent=m;local specCorner=Instance.new("UICorner")specCorner.CornerRadius=UDim.new(0,12)specCorner.Parent=specFrame;local specGrad=Instance.new("UIGradient")specGrad.Color=ColorSequence.new{ColorSequenceKeypoint.new(0,Color3.fromRGB(35,35,50)),ColorSequenceKeypoint.new(1,Color3.fromRGB(20,20,30))}specGrad.Rotation=135;specGrad.Parent=specFrame;local specTitle=Instance.new("TextLabel")specTitle.Size=UDim2.new(1,0,0,35)specTitle.BackgroundColor3=Color3.fromRGB(40,40,55)specTitle.BorderSizePixel=0;specTitle.Text="ğŸ‘ï¸ æ—è§‚åˆ—è¡¨"specTitle.TextColor3=Color3.new(1,1,1)specTitle.Font=Enum.Font.SourceSansBold;specTitle.TextSize=16;specTitle.Parent=specFrame;local specTCorner=Instance.new("UICorner")specTCorner.CornerRadius=UDim.new(0,12)specTCorner.Parent=specTitle;local specTBot=Instance.new("Frame")specTBot.Size=UDim2.new(1,0,0,12)specTBot.Position=UDim2.new(0,0,1,-12)specTBot.BackgroundColor3=Color3.fromRGB(40,40,55)specTBot.BorderSizePixel=0;specTBot.Parent=specTitle;local specScroll=Instance.new("ScrollingFrame")specScroll.Size=UDim2.new(1,-10,1,-45)specScroll.Position=UDim2.new(0,5,0,40)specScroll.BackgroundTransparency=1;specScroll.BorderSizePixel=0;specScroll.ScrollBarThickness=4;specScroll.CanvasSize=UDim2.new(0,0,0,0)specScroll.Parent=specFrame;local specClose=Instance.new("TextButton")specClose.Size=UDim2.new(0,30,0,30)specClose.Position=UDim2.new(1,-35,0,2.5)specClose.BackgroundColor3=Color3.fromRGB(255,60,60)specClose.Text="âœ•"specClose.TextColor3=Color3.new(1,1,1)specClose.Font=Enum.Font.SourceSansBold;specClose.TextSize=18;specClose.BorderSizePixel=0;specClose.Parent=specTitle;local specCloseCorner=Instance.new("UICorner")specCloseCorner.CornerRadius=UDim.new(0,6)specCloseCorner.Parent=specClose;local e=false;local sN=false;local sH=false;local sD=false;local sL=false;local sB=false;local sSK=false;local sA=false;local uT=false;local menuOpen=false;local maxDist=200;local alertDist=30;local ed={}local co={}local uc;local rH=0;local tH=0;local lastFPS=60;local fpsCount=0;local fpsTime=0;local origCam=nil;local specTarget=nil;local function gR()rH=(rH+0.5)%360;return Color3.fromHSV(rH/360,1,1)end;local function gRT()tH=(tH+1.5)%360;return Color3.fromHSV(tH/360,1,1)end;local function gPC(op)if uT and op.Team and op.Team~=p.Team then return op.TeamColor.Color elseif uT and op.Team and op.Team==p.Team then return Color3.fromRGB(100,255,100)else return Color3.fromRGB(255,100,100)end end;local function cB()local bx={topLeft=Drawing.new("Line"),topRight=Drawing.new("Line"),bottomLeft=Drawing.new("Line"),bottomRight=Drawing.new("Line"),leftSide=Drawing.new("Line"),rightSide=Drawing.new("Line"),topSide=Drawing.new("Line"),bottomSide=Drawing.new("Line")}for _,ln in pairs(bx)do ln.Visible=false;ln.Thickness=2;ln.Transparency=1 end;return bx end;local function cSK()local sk={head=Drawing.new("Line"),spine=Drawing.new("Line"),leftArm=Drawing.new("Line"),rightArm=Drawing.new("Line"),leftLeg=Drawing.new("Line"),rightLeg=Drawing.new("Line")}for _,ln in pairs(sk)do ln.Visible=false;ln.Thickness=2;ln.Transparency=1;ln.Color=Color3.new(1,1,1)end;return sk end;local function uSK(sk,ch,cl)if not sSK then for _,ln in pairs(sk)do ln.Visible=false end;return end;local parts={head=ch:FindFirstChild("Head"),torso=ch:FindFirstChild("HumanoidRootPart")or ch:FindFirstChild("Torso"),lArm=ch:FindFirstChild("Left Arm")or ch:FindFirstChild("LeftUpperArm"),rArm=ch:FindFirstChild("Right Arm")or ch:FindFirstChild("RightUpperArm"),lLeg=ch:FindFirstChild("Left Leg")or ch:FindFirstChild("LeftUpperLeg"),rLeg=ch:FindFirstChild("Right Leg")or ch:FindFirstChild("RightUpperLeg")}if not parts.head or not parts.torso then for _,ln in pairs(sk)do ln.Visible=false end;return end;local function w2s(p)local pos,vis=c:WorldToViewportPoint(p)return Vector2.new(pos.X,pos.Y),vis end;local hPos,hVis=w2s(parts.head.Position)local tPos,tVis=w2s(parts.torso.Position)if hVis and tVis then sk.head.From=hPos;sk.head.To=tPos;sk.head.Color=cl;sk.head.Visible=true;sk.spine.From=tPos;sk.spine.To=tPos+Vector2.new(0,30)sk.spine.Color=cl;sk.spine.Visible=true else sk.head.Visible=false;sk.spine.Visible=false end;if parts.lArm and tVis then local laPos,laVis=w2s(parts.lArm.Position)if laVis then sk.leftArm.From=tPos;sk.leftArm.To=laPos;sk.leftArm.Color=cl;sk.leftArm.Visible=true else sk.leftArm.Visible=false end else sk.leftArm.Visible=false end;if parts.rArm and tVis then local raPos,raVis=w2s(parts.rArm.Position)if raVis then sk.rightArm.From=tPos;sk.rightArm.To=raPos;sk.rightArm.Color=cl;sk.rightArm.Visible=true else sk.rightArm.Visible=false end else sk.rightArm.Visible=false end;local bPos=tPos+Vector2.new(0,30)if parts.lLeg then local llPos,llVis=w2s(parts.lLeg.Position)if llVis then sk.leftLeg.From=bPos;sk.leftLeg.To=llPos;sk.leftLeg.Color=cl;sk.leftLeg.Visible=true else sk.leftLeg.Visible=false end else sk.leftLeg.Visible=false end;if parts.rLeg then local rlPos,rlVis=w2s(parts.rLeg.Position)if rlVis then sk.rightLeg.From=bPos;sk.rightLeg.To=rlPos;sk.rightLeg.Color=cl;sk.rightLeg.Visible=true else sk.rightLeg.Visible=false end else sk.rightLeg.Visible=false end end;local function uB(bx,ch,cl)if not sB then for _,ln in pairs(bx)do ln.Visible=false end;return end;local hr=ch:FindFirstChild("HumanoidRootPart")local hu=ch:FindFirstChild("Humanoid")if not hr then for _,ln in pairs(bx)do ln.Visible=false end;return end;local rp=hr.Position;local ht=hu and hu.HipHeight+2 or 5;local sz=Vector3.new(3,ht+3,3)local cr={Vector3.new(-sz.X,sz.Y,-sz.Z),Vector3.new(sz.X,sz.Y,-sz.Z),Vector3.new(-sz.X,sz.Y,sz.Z),Vector3.new(sz.X,sz.Y,sz.Z),Vector3.new(-sz.X,-sz.Y,-sz.Z),Vector3.new(sz.X,-sz.Y,-sz.Z),Vector3.new(-sz.X,-sz.Y,sz.Z),Vector3.new(sz.X,-sz.Y,sz.Z)}local sc={}local ao=true;for i,cn in ipairs(cr)do local wp=rp+cn;local sp,os=c:WorldToViewportPoint(wp)sc[i]=Vector2.new(sp.X,sp.Y)if not os then ao=false end end;if not ao then for _,ln in pairs(bx)do ln.Visible=false end;return end;local mX,MX=math.huge,-math.huge;local mY,MY=math.huge,-math.huge;for _,ps in ipairs(sc)do mX=math.min(mX,ps.X)MX=math.max(MX,ps.X)mY=math.min(mY,ps.Y)MY=math.max(MY,ps.Y)end;local tL=Vector2.new(mX,mY)local tR=Vector2.new(MX,mY)local bL=Vector2.new(mX,MY)local bR=Vector2.new(MX,MY)local cS=math.min((MX-mX)*0.25,(MY-mY)*0.25)bx.topLeft.From=tL;bx.topLeft.To=Vector2.new(tL.X+cS,tL.Y)bx.topLeft.Color=cl;bx.topLeft.Visible=true;bx.leftSide.From=tL;bx.leftSide.To=Vector2.new(tL.X,tL.Y+cS)bx.leftSide.Color=cl;bx.leftSide.Visible=true;bx.topRight.From=tR;bx.topRight.To=Vector2.new(tR.X-cS,tR.Y)bx.topRight.Color=cl;bx.topRight.Visible=true;bx.rightSide.From=tR;bx.rightSide.To=Vector2.new(tR.X,tR.Y+cS)bx.rightSide.Color=cl;bx.rightSide.Visible=true;bx.bottomLeft.From=bL;bx.bottomLeft.To=Vector2.new(bL.X+cS,bL.Y)bx.bottomLeft.Color=cl;bx.bottomLeft.Visible=true;bx.topSide.From=bL;bx.topSide.To=Vector2.new(bL.X,bL.Y-cS)bx.topSide.Color=cl;bx.topSide.Visible=true;bx.bottomRight.From=bR;bx.bottomRight.To=Vector2.new(bR.X-cS,bR.Y)bx.bottomRight.Color=cl;bx.bottomRight.Visible=true;bx.bottomSide.From=bR;bx.bottomSide.To=Vector2.new(bR.X,bR.Y-cS)bx.bottomSide.Color=cl;bx.bottomSide.Visible=true end;local function cE(op)if ed[op]then return end;local ch=op.Character;if not ch then return end;local hr=ch:FindFirstChild("HumanoidRootPart")if not hr then return end;local d={}local h=Instance.new("Highlight")h.Name="PlayerESP_Highlight"h.FillColor=gPC(op)h.OutlineColor=Color3.fromRGB(255,255,255)h.FillTransparency=0.5;h.OutlineTransparency=0;h.Adornee=ch;h.Enabled=false;h.Parent=ch;d.highlight=h;local bg=Instance.new("BillboardGui")bg.Name="PlayerESP_Billboard"bg.Adornee=hr;bg.Size=UDim2.new(0,200,0,70)bg.StudsOffset=Vector3.new(0,3,0)bg.AlwaysOnTop=true;bg.Enabled=false;bg.Parent=hr;local nl=Instance.new("TextLabel")nl.Name="NameLabel"nl.Size=UDim2.new(1,0,0.3,0)nl.Position=UDim2.new(0,0,0,0)nl.BackgroundTransparency=1;nl.Text=op.Name;nl.TextColor3=Color3.new(1,1,1)nl.TextStrokeTransparency=0.5;nl.TextSize=16;nl.Font=Enum.Font.SourceSansBold;nl.Parent=bg;local tl=Instance.new("TextLabel")tl.Name="TeamLabel"tl.Size=UDim2.new(1,0,0.25,0)tl.Position=UDim2.new(0,0,0.3,0)tl.BackgroundTransparency=1;tl.Text=op.Team and op.Team.Name or"æ— é˜Ÿä¼"tl.TextColor3=gPC(op)tl.TextStrokeTransparency=0.5;tl.TextSize=13;tl.Font=Enum.Font.SourceSans;tl.Parent=bg;local hl=Instance.new("TextLabel")hl.Name="HealthLabel"hl.Size=UDim2.new(1,0,0.25,0)hl.Position=UDim2.new(0,0,0.55,0)hl.BackgroundTransparency=1;hl.Text="100/100"hl.TextColor3=Color3.fromRGB(100,255,100)hl.TextStrokeTransparency=0.5;hl.TextSize=13;hl.Font=Enum.Font.SourceSans;hl.Parent=bg;local dl=Instance.new("TextLabel")dl.Name="DistLabel"dl.Size=UDim2.new(1,0,0.2,0)dl.Position=UDim2.new(0,0,0.8,0)dl.BackgroundTransparency=1;dl.Text="0m"dl.TextColor3=Color3.new(1,1,1)dl.TextStrokeTransparency=0.5;dl.TextSize=13;dl.Font=Enum.Font.SourceSans;dl.Parent=bg;d.billboard=bg;d.nameLabel=nl;d.teamLabel=tl;d.healthLabel=hl;d.distLabel=dl;local ln=Drawing.new("Line")ln.Visible=false;ln.Color=gPC(op)ln.Thickness=2;ln.Transparency=1;d.line=ln;d.box=cB()d.skeleton=cSK()d.player=op;d.character=ch;d.alerted=false;ed[op]=d end;local function rE(op)local d=ed[op]if not d then return end;if d.highlight then d.highlight:Destroy()end;if d.billboard then d.billboard:Destroy()end;if d.line then d.line:Remove()end;if d.box then for _,ln in pairs(d.box)do ln:Remove()end end;if d.skeleton then for _,ln in pairs(d.skeleton)do ln:Remove()end end;ed[op]=nil end;local function updatePlayerList()for _,child in ipairs(specScroll:GetChildren())do if child:IsA("TextButton")then child:Destroy()end end;local yp=0;for _,op in ipairs(P:GetPlayers())do if op~=p then local pbtn=Instance.new("TextButton")pbtn.Size=UDim2.new(1,-5,0,35)pbtn.Position=UDim2.new(0,0,0,yp)pbtn.BackgroundColor3=Color3.fromRGB(50,50,65)pbtn.Text="ğŸ‘ï¸ "..op.Name;pbtn.TextColor3=Color3.new(1,1,1)pbtn.Font=Enum.Font.SourceSans;pbtn.TextSize=14;pbtn.BorderSizePixel=0;pbtn.Parent=specScroll;local pCorner=Instance.new("UICorner")pCorner.CornerRadius=UDim.new(0,6)pCorner.Parent=pbtn;pbtn.MouseButton1Click:Connect(function()if not origCam then origCam=c.CameraSubject end;if specTarget==op then c.CameraSubject=origCam;specTarget=nil;pbtn.BackgroundColor3=Color3.fromRGB(50,50,65)else if specTarget then for _,b in ipairs(specScroll:GetChildren())do if b:IsA("TextButton")then b.BackgroundColor3=Color3.fromRGB(50,50,65)end end end;specTarget=op;if op.Character and op.Character:FindFirstChild("Humanoid")then c.CameraSubject=op.Character.Humanoid end;pbtn.BackgroundColor3=Color3.fromRGB(100,150,255)end end)yp=yp+40 end end;specScroll.CanvasSize=UDim2.new(0,0,0,yp)end;local function uE()if not e then return end;local mc=p.Character;local mr=mc and mc:FindFirstChild("HumanoidRootPart")local rc=gR()l.TextColor3=gRT()fpsCount=fpsCount+1;local curTime=tick()if curTime-fpsTime>=1 then lastFPS=fpsCount;fpsLabel.Text="FPS: "..lastFPS;if lastFPS>=50 then fpsLabel.TextColor3=Color3.fromRGB(100,255,100)elseif lastFPS>=30 then fpsLabel.TextColor3=Color3.fromRGB(255,200,0)else fpsLabel.TextColor3=Color3.fromRGB(255,50,50)end;fpsCount=0;fpsTime=curTime end;maxDist=distSlider.getValue()alertDist=alertSlider.getValue()local transp=transSlider.getValue()/100;for op,d in pairs(ed)do if d.character and d.character.Parent then local hr=d.character:FindFirstChild("HumanoidRootPart")local hu=d.character:FindFirstChild("Humanoid")if hr and mr then local ds=(mr.Position-hr.Position).Magnitude;if ds>maxDist then d.highlight.Enabled=false;d.billboard.Enabled=false;d.line.Visible=false;for _,ln in pairs(d.box)do ln.Visible=false end;for _,ln in pairs(d.skeleton)do ln.Visible=false end;continue end;d.highlight.Enabled=e;d.highlight.FillTransparency=transp;d.distLabel.Text=math.floor(ds).."m"d.teamLabel.Text=op.Team and op.Team.Name or"æ— é˜Ÿä¼"local cl=gPC(op)d.teamLabel.TextColor3=cl;d.nameLabel.TextColor3=rc;if sA and ds<=alertDist and(not op.Team or op.Team~=p.Team)then if not d.alerted then d.alerted=true;TW:Create(toggleBtn,TweenInfo.new(0.3),{BackgroundColor3=Color3.fromRGB(255,50,50)}):Play()task.delay(2,function()TW:Create(toggleBtn,TweenInfo.new(0.3),{BackgroundColor3=Color3.fromRGB(45,45,60)}):Play()end)end else d.alerted=false end;if hu then local hp=math.floor(hu.Health)local mh=math.floor(hu.MaxHealth)d.healthLabel.Text=hp.."/"..mh;local hpPer=hp/mh;if hpPer>0.6 then d.healthLabel.TextColor3=Color3.fromRGB(100,255,100)elseif hpPer>0.3 then d.healthLabel.TextColor3=Color3.fromRGB(255,200,0)else d.healthLabel.TextColor3=Color3.fromRGB(255,50,50)end end;d.nameLabel.Visible=sN;d.teamLabel.Visible=sN;d.healthLabel.Visible=sH;d.distLabel.Visible=sD;d.billboard.Enabled=sN or sD or sH;if sL then local ps,os=c:WorldToViewportPoint(hr.Position)if os then local ss=c.ViewportSize;d.line.From=Vector2.new(ss.X/2,ss.Y)d.line.To=Vector2.new(ps.X,ps.Y)d.line.Color=cl;d.line.Visible=true else d.line.Visible=false end else d.line.Visible=false end;uB(d.box,d.character,cl)uSK(d.skeleton,d.character,cl)d.highlight.FillColor=cl end else rE(op)end end end;local function sAll()for _,op in ipairs(P:GetPlayers())do if op~=p and op.Character then cE(op)end end end;local function cAll()for op,_ in pairs(ed)do rE(op)end end;local function stL()for _,cn in ipairs(co)do cn:Disconnect()end;co={}table.insert(co,P.PlayerAdded:Connect(function(op)if op==p then return end;table.insert(co,op.CharacterAdded:Connect(function(ch)if e then task.wait(0.5)cE(op)end;updatePlayerList()end))table.insert(co,op.CharacterRemoving:Connect(function()rE(op)end))if op.Character then cE(op)end;updatePlayerList()end))table.insert(co,P.PlayerRemoving:Connect(function(op)rE(op)updatePlayerList()end))for _,op in ipairs(P:GetPlayers())do if op~=p then table.insert(co,op.CharacterAdded:Connect(function(ch)if e then task.wait(0.5)cE(op)end;updatePlayerList()end))table.insert(co,op.CharacterRemoving:Connect(function()rE(op)end))end end;if uc then uc:Disconnect()end;uc=R.RenderStepped:Connect(uE)updatePlayerList()end;local function spL()for _,cn in ipairs(co)do cn:Disconnect()end;co={}if uc then uc:Disconnect()uc=nil end end;local function toggleCat(btn,items,exp,setExp)btn.MouseButton1Click:Connect(function()local expanded=not exp()setExp(expanded)for _,item in ipairs(items)do item.Visible=expanded end end)end;toggleCat(cat1Btn,{mb,nb,hb,db,lb,bb,skb,tb},cat1Exp,cat1Set)toggleCat(cat2Btn,{ab,alertSlider},cat2Exp,cat2Set)toggleCat(cat3Btn,{distSlider,transSlider,specBtn},cat3Exp,cat3Set)U.InputBegan:Connect(function(input,gp)if gp then return end;if input.KeyCode==Enum.KeyCode.X then menuOpen=not menuOpen;if menuOpen then m.BackgroundTransparency=0;TW:Create(m,TweenInfo.new(0.3,Enum.EasingStyle.Back,Enum.EasingDirection.Out),{Size=UDim2.new(0,280,0,420)}):Play()m.Visible=true else TW:Create(m,TweenInfo.new(0.2),{Size=UDim2.new(0,280,0,0)}):Play()task.wait(0.2)m.Visible=false end end end)toggleBtn.MouseButton1Click:Connect(function()menuOpen=not menuOpen;if menuOpen then m.BackgroundTransparency=0;TW:Create(m,TweenInfo.new(0.3,Enum.EasingStyle.Back,Enum.EasingDirection.Out),{Size=UDim2.new(0,280,0,420)}):Play()m.Visible=true else TW:Create(m,TweenInfo.new(0.2),{Size=UDim2.new(0,280,0,0)}):Play()task.wait(0.2)m.Visible=false end end)mb.MouseButton1Click:Connect(function()e=not e;if e then mb.Text="ESPé«˜äº®ï¼šå¼€"TW:Create(mb,TweenInfo.new(0.2),{BackgroundColor3=Color3.fromRGB(80,200,80)}):Play()sAll()stL()else mb.Text="ESPé«˜äº®ï¼šå…³"TW:Create(mb,TweenInfo.new(0.2),{BackgroundColor3=Color3.fromRGB(50,50,65)}):Play()spL()cAll()end end)nb.MouseButton1Click:Connect(function()sN=not sN;nb.Text=sN and"åå­—ï¼šå¼€"or"åå­—ï¼šå…³"TW:Create(nb,TweenInfo.new(0.2),{BackgroundColor3=sN and Color3.fromRGB(80,200,80)or Color3.fromRGB(50,50,65)}):Play()end)hb.MouseButton1Click:Connect(function()sH=not sH;hb.Text=sH and"è¡€é‡ï¼šå¼€"or"è¡€é‡ï¼šå…³"TW:Create(hb,TweenInfo.new(0.2),{BackgroundColor3=sH and Color3.fromRGB(80,200,80)or Color3.fromRGB(50,50,65)}):Play()end)db.MouseButton1Click:Connect(function()sD=not sD;db.Text=sD and"è·ç¦»ï¼šå¼€"or"è·ç¦»ï¼šå…³"TW:Create(db,TweenInfo.new(0.2),{BackgroundColor3=sD and Color3.fromRGB(80,200,80)or Color3.fromRGB(50,50,65)}):Play()end)lb.MouseButton1Click:Connect(function()sL=not sL;lb.Text=sL and"çº¿æ¡ï¼šå¼€"or"çº¿æ¡ï¼šå…³"TW:Create(lb,TweenInfo.new(0.2),{BackgroundColor3=sL and Color3.fromRGB(80,200,80)or Color3.fromRGB(50,50,65)}):Play()end)bb.MouseButton1Click:Connect(function()sB=not sB;bb.Text=sB and"æ–¹æ¡†ï¼šå¼€"or"æ–¹æ¡†ï¼šå…³"TW:Create(bb,TweenInfo.new(0.2),{BackgroundColor3=sB and Color3.fromRGB(80,200,80)or Color3.fromRGB(50,50,65)}):Play()end)skb.MouseButton1Click:Connect(function()sSK=not sSK;skb.Text=sSK and"éª¨éª¼ï¼šå¼€"or"éª¨éª¼ï¼šå…³"TW:Create(skb,TweenInfo.new(0.2),{BackgroundColor3=sSK and Color3.fromRGB(80,200,80)or Color3.fromRGB(50,50,65)}):Play()end)ab.MouseButton1Click:Connect(function()sA=not sA;ab.Text=sA and"è­¦æŠ¥ï¼šå¼€"or"è­¦æŠ¥ï¼šå…³"TW:Create(ab,TweenInfo.new(0.2),{BackgroundColor3=sA and Color3.fromRGB(80,200,80)or Color3.fromRGB(50,50,65)}):Play()end)tb.MouseButton1Click:Connect(function()uT=not uT;tb.Text=uT and"é˜Ÿä¼è‰²ï¼šå¼€"or"é˜Ÿä¼è‰²ï¼šå…³"TW:Create(tb,TweenInfo.new(0.2),{BackgroundColor3=uT and Color3.fromRGB(80,200,80)or Color3.fromRGB(50,50,65)}):Play()end)specBtn.MouseButton1Click:Connect(function()specFrame.Visible=not specFrame.Visible;if specFrame.Visible then TW:Create(specFrame,TweenInfo.new(0.3,Enum.EasingStyle.Back),{Size=UDim2.new(0,200,0,300)}):Play()updatePlayerList()end end)specClose.MouseButton1Click:Connect(function()TW:Create(specFrame,TweenInfo.new(0.2),{Size=UDim2.new(0,200,0,0)}):Play()task.wait(0.2)specFrame.Visible=false;if origCam then c.CameraSubject=origCam;origCam=nil;specTarget=nil end end)print("[âœ… è±ªåESPå·²åŠ è½½ | æŒ‰Xå¼€å…³ | æ»‘å—è°ƒèŠ‚ | æ—è§‚åŠŸèƒ½]")
